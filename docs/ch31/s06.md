# 6. Shell脚本的调试方法

Shell提供了一些用于调试脚本的选项，如下所示：

- `-n`：读一遍脚本中的命令但不执行，用于检查脚本中的语法错误
- `-v`：一边执行脚本，一边将执行过的脚本命令打印到标准错误输出
- `-x`：提供跟踪执行信息，将执行的每一条命令和结果依次打印出来

使用这些选项有三种方法：

1. 在命令行提供参数：
```bash
$ sh -x ./script.sh
```

2. 在脚本开头提供参数：
```bash
#! /bin/sh -x
```

3. 在脚本中用`set`命令启用或禁用参数：
```bash
#! /bin/sh
if [ -z "$1" ]; then
  set -x
  echo "ERROR: Insufficient Args."
  exit 1
  set +x
fi
```

`set -x`和`set +x`分别表示启用和禁用`-x`参数，这样可以只对脚本中的某一段进行跟踪调试。 